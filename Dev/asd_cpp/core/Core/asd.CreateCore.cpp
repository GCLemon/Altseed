
//----------------------------------------------------------------------------------
//
//----------------------------------------------------------------------------------
#include "asd.CreateCore.h"
#include "asd.Core_Imp.h"

//----------------------------------------------------------------------------------
//
//----------------------------------------------------------------------------------
namespace asd {
	//----------------------------------------------------------------------------------
	// extern経由で他から取得される部分
	//----------------------------------------------------------------------------------
	extern std::atomic<int32_t>				g_globalRefCount__;

	//----------------------------------------------------------------------------------
	//
	//----------------------------------------------------------------------------------
	Core* CreateCore__()
	{
		return new Core_Imp();
	}

	//----------------------------------------------------------------------------------
	//
	//----------------------------------------------------------------------------------
extern "C" {
	//----------------------------------------------------------------------------------
	//
	//----------------------------------------------------------------------------------
	ASD_DLLEXPORT Core* ASD_STDCALL CreateCore()
	{
		return CreateCore__();
	}

	//----------------------------------------------------------------------------------
	//
	//----------------------------------------------------------------------------------
	ASD_DLLEXPORT int32_t ASD_STDCALL GetGlobalReferenceCount__()
	{
		return g_globalRefCount__;
	}

	//----------------------------------------------------------------------------------
	//
	//----------------------------------------------------------------------------------
}
};