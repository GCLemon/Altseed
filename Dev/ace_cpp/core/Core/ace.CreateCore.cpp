
//----------------------------------------------------------------------------------
//
//----------------------------------------------------------------------------------
#include "ace.CreateCore.h"
#include "ace.Core_Imp.h"

//----------------------------------------------------------------------------------
//
//----------------------------------------------------------------------------------
namespace ace {
	//----------------------------------------------------------------------------------
	// extern経由で他から取得される部分
	//----------------------------------------------------------------------------------
	extern int32_t					g_globalRefCount__;

	//----------------------------------------------------------------------------------
	//
	//----------------------------------------------------------------------------------
	Core* CreateCore__()
	{
		return new Core_Imp();
	}

	//----------------------------------------------------------------------------------
	//
	//----------------------------------------------------------------------------------
extern "C" {
	//----------------------------------------------------------------------------------
	//
	//----------------------------------------------------------------------------------
	ACE_DLLEXPORT Core* ACE_STDCALL CreateCore()
	{
		return CreateCore__();
	}

	//----------------------------------------------------------------------------------
	//
	//----------------------------------------------------------------------------------
	ACE_DLLEXPORT int32_t ACE_STDCALL GetGlobalReferenceCount__()
	{
		return g_globalRefCount__;
	}

	//----------------------------------------------------------------------------------
	//
	//----------------------------------------------------------------------------------
}
};