
//----------------------------------------------------------------------------------
//
//----------------------------------------------------------------------------------
#include  "ace.DepthBuffer_Imp.h"

#include "../ace.Graphics_Imp.h"

//----------------------------------------------------------------------------------
//
//----------------------------------------------------------------------------------
namespace ace {
	//----------------------------------------------------------------------------------
	//
	//----------------------------------------------------------------------------------
	DepthBuffer_Imp::DepthBuffer_Imp(Graphics* graphics, Vector2DI size)
		: DeviceObject(graphics)
		, m_size(size)
	{
		auto g = (Graphics_Imp*) GetGraphics();
		g->IncVRAM(m_size.X * m_size.Y * 4);
	}

	//----------------------------------------------------------------------------------
	//
	//----------------------------------------------------------------------------------
	DepthBuffer_Imp::~DepthBuffer_Imp()
	{
		auto g = (Graphics_Imp*) GetGraphics();
		g->DecVRAM(m_size.X * m_size.Y * 4);
	}
	
	//----------------------------------------------------------------------------------
	//
	//----------------------------------------------------------------------------------
}