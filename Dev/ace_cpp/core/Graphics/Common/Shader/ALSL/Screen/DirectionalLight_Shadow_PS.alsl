
float4 calcLightColor(float3 upDir, float3 normal, float3 lightDir, float shadow)
{
	float4 color = float4(0.0,0.0,0.0,1.0);
	float NoL = dot(normal,lightDir);
	float NoU = dot(normal,upDir);
	color.xyz = directionalLightColor * max(NoL,0.0) * shadow;
	color.xyz = color.xyz + skyLightColor * max(NoU,0.0);
	color.xyz = color.xyz + groundLightColor * max(-NoU,0.0);
	return color;
}
